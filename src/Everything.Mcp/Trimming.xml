<?xml version="1.0" encoding="utf-8"?>
<linker>
  <!-- Preserve Serilog assemblies -->
  <assembly fullname="Serilog" preserve="all" />
  <assembly fullname="Serilog.Extensions.Hosting" preserve="all" />
  <assembly fullname="Serilog.Sinks.File" preserve="all" />

  <!-- Preserve ModelContextProtocol assemblies -->
  <assembly fullname="ModelContextProtocol" preserve="all" />

  <!-- Preserve System.Text.Json for MCP serialization -->
  <assembly fullname="System.Text.Json" preserve="all" />

  <!-- Preserve our assemblies -->
  <assembly fullname="Everything.Mcp" preserve="all" />
  <assembly fullname="Everything.Client" preserve="all" />
  <assembly fullname="Everything.Interop" preserve="all" />

  <!-- Preserve JSON serialization for our response types -->
  <type fullname="Everything.Mcp.Models.*" preserve="all" />
</linker>